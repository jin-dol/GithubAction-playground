# 1 ì›Œí¬í”Œë¡œì˜ ì´ë¦„ ì§€ì •
name: CI

# 2 ì›Œí¬í”Œë¡œê°€ ì‹œì‘ë  ì¡°ê±´ ì§€ì •
on:
    push:
        branches:
            - develop
            - main
    pull_request:
        branches:
        - "*"

jobs:
    prepare-ci:
        name: âš™ï¸ Prepare CI
        runs-on: macos-14
        
        steps:
            - uses: actions/checkout@v3
            
            - name: Select Xcode 15.4
              run: sudo xcode-select -s /Applications/Xcode_15.4.app/Contents/Developer
            
    test:
        name: ğŸ§ª Test
        runs-on: macos-14
        needs: prepare-ci

        steps:
          - uses: actions/checkout@v3

          - name: List Xcode installations
            run: sudo ls -1 /Applications | grep "Xcode"

          - name: Select Xcode 15.4
            run: sudo xcode-select -s /Applications/Xcode_15.4.app/Contents/Developer

          - name: Show swift version
            run: swift --version

          - uses: jdx/mise-action@v2

          - name: Install tuist
            run: |
              brew install carthage
              mise install tuist

